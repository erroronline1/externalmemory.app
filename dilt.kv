#:kivy 2.0.0

<Screen>:
	camimage: camimage
	detectedcode: detectedcode
	mynotes: mynotes
	good: good
	meh: meh
	bad: bad

	mydata: mydata

	fullscreen: True
	Carousel:
		GridLayout:
			cols:1
			size_hint: (.9, 1)
			pos_hint: {'center': (.5, .5)}
			spacing: [0, 5]
			Image:
				source: "icon.png"
				size_hint: (1, None)
				height: 48
			Image:
				id: camimage
				size_hint: (2, 2)
				allow_stretch: True
				keep_ratio: True
			Label:
				id: detectedcode
				text: root.content("diltDetectedcode")
				size_hint: (1, None)
				height: 32
			Label:
				text: root.content("diltMynotes")
				size_hint: (1, None)
				height: 32
			TextInput:
				id: mynotes
			GridLayout:
				cols: 3
				spacing: [5, 0]
				size_hint: (1, .5)
				ToggleButton:
					id: good
					group: "rating"
					text: root.content("diltGood")
				ToggleButton:
					id: meh
					group: "rating"
					text: root.content("diltMeh")
				ToggleButton:
					id: bad
					group: "rating"
					text: root.content("diltBad")
			Button:
				text: root.content("diltSave")
				size_hint: (1, None)
				height: 48
				on_release: root.savefn()
		GridLayout:
			cols:1
			size_hint: (.9, 1)
			pos_hint: {'center': (.5, .5)}
			spacing: [0, 5]
			Label:
				text: root.content("mydataTitle")
				size_hint: (1, None)
				height: 48
			ScrollView:
				Label:
					id: mydata
					size_hint_y: None
					text_size: self.width, None
					height: self.texture_size[1]
					text: root.content("mydata", mydata= True)
			Button:
				text: root.content("mydataClear")
				size_hint: (1, None)
				height: 48
				on_release: root.clearData()
			Button:
				text: root.content("mydataPush")
				size_hint: (1, None)
				height: 48
			Button:
				text: root.content("mydataRestore")
				size_hint: (1, None)
				height: 48
		GridLayout:
			cols:1
			size_hint: (.9, 1)
			pos_hint: {'center': (.5, .5)}
			spacing: [0, 5]
			Label:
				text: root.content("aboutSettings")
				size_hint: (1, None)
				height: 48
			GridLayout:
				cols:2
				Label:
					text:root.content("aboutLanguage")
					size_hint: (1, None)
					height: 48
				Spinner:
					pos_hint: {'center': (.5, .5)}
					text: root.languageSettings('setting')
					values: root.languageSettings('list')
					on_text: root.languageSettings(self.text)
					size_hint: (1, None)
					height: 48
				Label:
					text:root.content("aboutCam")
					size_hint: (1, None)
					height: 48
				Spinner:
					pos_hint: {'center': (.5, .5)}
					text: root.camSettings('setting')
					values: root.camSettings('list')
					on_text: root.camSettings(self.text)
					size_hint: (1, None)
					height: 48
			Label:
				text: root.content("aboutTitle")
				size_hint: (1, None)
				height: 48
			ScrollView:
				Label:
					text: root.content("aboutText")
					size_hint_y: None
					text_size: self.width, None
					height: self.texture_size[1]

<-Popup>:
	GridLayout:
		cols: 1
		padding: '12dp'
		pos_hint: {'center': (0.5, 0.5)}
		size_hint_x: 0.66
		size_hint_y: None
		height: self.minimum_height
		
		canvas:
			Color:
				rgba: root.background_color[:3] + [root.background_color[-1] * root._anim_alpha]
			Rectangle:
				size: root._window.size if root._window else (0, 0)
			
			Color:
				rgb: 1, 1, 1
			BorderImage:
				source: root.background
				border: root.border
				pos: self.pos
				size: self.size
	
		Label:
			text: root.text
			size_hint_y: None
			height: self.texture_size[1] + dp(16)
			text_size: self.width - dp(16), None
			halign: 'center'
		
		BoxLayout:
			size_hint_y: None
			height: sp(48)
			
			Button:
				text: root.cancel_text
				on_press: root.cancel()
			Button:
				text: root.ok_text
				on_press: root.ok()
